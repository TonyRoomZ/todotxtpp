
.container-fluid
  .row-fluid
    .col-sm-4.col-sm-offset-8
      #search-bar


.container-fluid
  .row-fluid
    .col-sm-2.col-no-padding
      #sidebar
        ul
          li 
            a(href="#",data-name="all") 
              i.fa.fa-star-o.list-icon
              | All              
          li 
            a(href="#",data-name="today") 
              i.fa.fa-calendar.list-icon
              | Today              
          li
            a(href="#here",data-name="here") 
              .list-icon.list-icon-plus +
              | Here
              i.fa.fa-times.delete-list-btn
          li
            a(href="#here",data-name="location") 
              .list-icon.list-icon-at @
              | Location
    .col-sm-10.col-no-padding
      #ace-editor
.container-fluid
  .row-fluid
    .col-sm-2.col-sm-offset-10
      button.btn.btn-primary#save-btn(onclick="saveFile()")
        | Save

script.
  var editor;
  $(document).ready(function(){
    var editor = Todotxt.setEditor(ace.edit("ace-editor"));

    editor.getSession().setMode("ace/mode/todotxt");
    editor.setShowPrintMargin(false);
    editor.getSession().setUseWrapMode('free');

    Todotxt.getList(function(err, data){
      if (err){
        $(document).trigger("add-alerts", [
          {
            'message': "Unable to load file from Dropbox. Please try again later.",
            'priority': 'error'
          }
        ]);
        return;
      }
    }, true);
  });
    
  saveFile = function(){
    $('#save-btn').prop('disabled', true);
    Todotxt.save(function(err, data){
      
      $('#save-btn').prop('disabled', false);

      if (err){
        $(document).trigger("add-alerts", [
          {
            'message': "Error saving file: " + status,
            'priority': 'error'
          }
        ]);
        return;
      }

      if (data && data.errors && data.errors.length > 0){
        $(document).trigger("add-alerts", [
          {
            'message': data.errors[0],
            'priority': 'error'
          }
        ]);
        return;
      }

      $(document).trigger("add-alerts", [
        {
          'message': "Saved successfully.",
          'priority': 'info'
        }
      ]);
    });
  }

#deleteFilter.modal.fade(tabindex='-1', role='dialog', aria-labelledby='deleteLabel', aria-hidden='true')
  .modal-dialog
    .modal-content
      .modal-header
        button.close(type='button', data-dismiss='modal', aria-hidden='true') Ã—
        h4#deleteLabel.modal-title Delete Filter
      .modal-body
        | Are you sure you want to delete the filter
        code#deleteFilter
        | ?
      .modal-footer
        button.btn.btn-default(type='button', data-dismiss='modal') Cancel
        button.btn.btn-primary#delete-filter-btn(type='button') Yes, Delete it.
